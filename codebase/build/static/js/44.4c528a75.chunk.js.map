{"version":3,"sources":["views/apps/ecommerce/detail/ItemFeatures.js","views/apps/ecommerce/detail/ProductDetails.js","views/apps/ecommerce/detail/RelatedProducts.js","views/apps/ecommerce/detail/index.js","redux/actions/clients/index.js","views/apps/ecommerce/store/actions/index.js"],"names":["ItemFeatures","className","Row","Col","md","xs","CardText","Product","props","userData","useSelector","state","auth","properUser","user","useState","details","setDetails","modalOpened","setModalOpened","history","useHistory","data","dispatch","addToCart","PriceDisplay","categories","brand","found","filter","item","title","categoryName","length","value","price","useEffect","a","ref","firestore","collection","doc","get","exists","console","log","CartBtnTag","Link","src","img","alt","name","Array","fill","map","listItem","index","detail","size","Button","tag","color","to","type","toLowerCase","outline","onClick","Modal","isOpen","toggle","modalClassName","ModalHeader","ModalBody","ModalFooter","Ripple","deleteProduct","id","then","res","push","RelatedProducts","relatedProds","SwiperCore","use","Navigation","slidesPerView","spaceBetween","navigation","breakpoints","slide","window","scrollTo","top","behavior","Details","productId","useParams","product","relatedProducts","setRelatedProducts","useDispatch","store","ecommerce","allProducts","products","getProduct","getProductsData","newArr","Object","keys","productDetail","Card","CardBody","ProductDetails","params","snap","records","docs","record","SaveCategory","category","add","newCat","newData","UpdateCategory","editID","update","FetchCategories","Categories","DeleteCategory","delete","getProducts","q","queryLowered","includes","total","slug","snapshot","catch","err"],"mappings":"kSA2CeA,EAvCM,WACnB,OACE,qBAAKC,UAAU,gBAAf,SACE,eAACC,EAAA,EAAD,CAAKD,UAAU,cAAf,UACE,cAACE,EAAA,EAAD,CAAKF,UAAU,eAAeG,GAAG,IAAIC,GAAG,KAAxC,SACE,sBAAKJ,UAAU,eAAf,UACE,cAAC,IAAD,IACA,oBAAIA,UAAU,YAAd,2BACA,cAACK,EAAA,EAAD,qIAMJ,cAACH,EAAA,EAAD,CAAKF,UAAU,eAAeG,GAAG,IAAIC,GAAG,KAAxC,SACE,sBAAKJ,UAAU,eAAf,UACE,cAAC,IAAD,IACA,oBAAIA,UAAU,YAAd,+BACA,cAACK,EAAA,EAAD,wGAMJ,cAACH,EAAA,EAAD,CAAKF,UAAU,eAAeG,GAAG,IAAIC,GAAG,KAAxC,SACE,sBAAKJ,UAAU,eAAf,UACE,cAAC,IAAD,IACA,oBAAIA,UAAU,YAAd,iCACA,cAACK,EAAA,EAAD,kJ,uJCyIGC,EAxJC,SAAAC,GACd,IAAQC,EAAaC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,QAAxCH,SACFI,EAAaJ,EAASK,KAC5B,EAA8BC,mBAAS,IAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAsCF,oBAAS,GAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACMC,EAAUC,cAERC,EAA8Bd,EAA9Bc,KAAMC,EAAwBf,EAAxBe,SAAwBf,EAAdgB,UAaxB,SAASC,IACP,GAAIZ,GAAcA,EAAWa,YAAcV,EAAQW,MAAO,CACxD,IAAMC,EAAQf,EAAWa,WAAWG,QAClC,SAAAC,GAAI,OAAIA,EAAKC,QAAUf,EAAQW,MAAMK,gBAEvC,OAAIJ,EAAMK,OAAS,EACVL,EAAM,GAAGM,MAETlB,EAAQW,MAAMQ,MAElB,GAAInB,EAAQW,MACjB,OAAOX,EAAQW,MAAMQ,MAtBzBC,oBAAS,sBAAC,8BAAAC,EAAA,0DACJf,EAAKK,MADD,uBAEAW,EAAMC,IAAUC,WAAW,cAAcC,IAAInB,EAAKK,OAFlD,SAGYW,EAAII,MAHhB,QAGAD,EAHA,QAIGE,QACPC,QAAQC,IAAI,kBAEd5B,EAAW,2BAAKK,GAAN,IAAYK,MAAOc,EAAInB,UAP3B,2CASP,CAACT,IAqBJ,IAOMiC,EAAaC,IAEnB,OACE,eAAC7C,EAAA,EAAD,CAAKD,UAAU,OAAf,UACE,cAACE,EAAA,EAAD,CACEF,UAAU,gEACVG,GAAG,IACHC,GAAG,KAHL,SAKE,qBAAKJ,UAAU,mDAAf,SACE,qBACEA,UAAU,wBACV+C,IAAK1B,EAAK2B,IACVC,IAAK5B,EAAK6B,WAIhB,eAAChD,EAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,KAAf,UACE,6BAAKiB,EAAK6B,OAEV,sBAAKlD,UAAU,gDAAf,UACE,qBAAIA,UAAU,kBAAd,cACIwB,IAAiBA,IAAiBH,EAAKa,SAE3C,oBAAIlC,UAAU,4BAAd,SACG,IAAImD,MAAM,GAAGC,OAAOC,KAAI,SAACC,EAAUC,GAClC,OACE,oBAAgBvD,UAAU,0BAA1B,SACE,cAAC,IAAD,CAAMA,UAAU,iBADTuD,WAOjB,eAAClD,EAAA,EAAD,yBACa,sBAAML,UAAU,qBAAhB,yBAEb,cAACK,EAAA,EAAD,UAAWgB,EAAKmC,SAChB,oBAAIxD,UAAU,iCAAd,SACE,+BACE,cAAC,IAAD,CAAYyD,KAAM,KAClB,sBAAMzD,UAAU,kBAAhB,uCAGJ,uBACA,sBAAKA,UAAU,sCAAf,UACE,eAAC0D,EAAA,EAAD,CACEC,IAAKd,EACL7C,UAAU,qCACV4D,MAAM,UACNC,GAAG,gBAJL,UAME,cAAC,IAAD,CAAc7D,UAAU,QAAQyD,KAAM,KANxC,mBASCjD,EAASsD,MAAwC,UAAhCtD,EAASsD,KAAKC,eAC9B,eAAC,WAAD,WACE,eAACL,EAAA,EAAD,CACEM,SAAO,EACPhE,UAAU,qCACV4D,MAAM,SACNK,QAAS,WACP/C,GAAe,IALnB,UAQE,cAAC,IAAD,CAAQlB,UAAU,QAAQyD,KAAM,KARlC,iBAWA,eAACS,EAAA,EAAD,CACEC,OAAQlD,EACRmD,OAAQ,kBAAMlD,GAAgBD,IAC9BjB,UAAU,wBACVqE,eAAgB,eAJlB,UAME,cAACC,EAAA,EAAD,CAAaF,OAAQ,kBAAMlD,GAAgBD,IAA3C,4BAGA,cAACsD,EAAA,EAAD,0HAIA,eAACC,EAAA,EAAD,WACE,cAACd,EAAA,EAAOe,OAAR,CACET,SAAO,EACPJ,MAAM,UACNK,QAAS,kBAAM/C,GAAgBD,IAHjC,oBAOA,cAACyC,EAAA,EAAOe,OAAR,CACET,SAAO,EACPJ,MAAM,SACNK,QAnGU,WAC1B3C,EAASoD,YAAc3D,EAAQ4D,KAAKC,MAAK,SAAAC,GACvC1D,EAAQ2D,KAAK,iBA8FD,uC,iDChEHC,G,QA3ES,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACzBC,IAAWC,IAAI,CAACC,MA4BhB,OACE,eAAC,WAAD,WACE,sBAAKnF,UAAU,wBAAf,UACE,kDACA,cAACK,EAAA,EAAD,mDAEF,cAAC,IAAD,2BA/BW,CACbL,UAAW,2DACXoF,cAAe,EACfC,aAAc,GACdC,YAAY,EACZC,YAAa,CACX,KAAM,CACJH,cAAe,EACfC,aAAc,IAEhB,KAAM,CACJD,cAAe,EACfC,aAAc,IAEhB,IAAK,CACHD,cAAe,EACfC,aAAc,IAEhB,IAAK,CACHD,cAAe,EACfC,aAAc,OAWhB,aACGL,EAAahD,OAAS,GACrBgD,EAAa3B,KAAI,SAAAmC,GACf,OACE,cAAC,IAAD,UACE,eAAC,IAAD,CACE3B,GAAE,0BAAqB2B,EAAMb,IAC7BV,QAAS,WACPwB,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,YAHxC,UAME,qBAAK5F,UAAU,oBAAf,SACE,oBAAIA,UAAU,qBAAd,SAAoCwF,EAAMtC,SAE5C,qBAAKlD,UAAU,mCAAf,SACE,qBAAK+C,IAAKyC,EAAMxC,IAAKC,IAAI,WAAWjD,UAAU,gBAEhD,sBAAKA,UAAU,YAAf,UACE,oBAAIA,UAAU,kCAAd,SACG,IAAImD,MAAM,GAAGC,OAAOC,KAAI,SAACC,EAAUC,GAClC,OACE,oBAAgBvD,UAAU,0BAA1B,SACE,cAAC,IAAD,CAAMA,UAAU,iBADTuD,QAMf,eAAClD,EAAA,EAAD,CAAUL,UAAU,oBAApB,cACIwF,EAAMtD,gBAxBEsD,EAAMb,e,mCCavBkB,UA9CC,WAEd,IACMC,EADSC,cAAYC,QAE3B,EAA8ClF,mBAAS,IAAvD,mBAAOmF,EAAP,KAAwBC,EAAxB,KAEM5E,EAAW6E,cACXC,EAAQ3F,aAAY,SAAAC,GAAK,OAAIA,EAAM2F,aACjCC,EAAgB7F,aAAY,SAAAC,GAAK,OAAIA,EAAM6F,YAA3CD,YAcR,OAXAnE,qBAAU,WACRb,EAASkF,YAAWV,MACnB,CAACA,IACJ3D,qBAAU,WACRb,EAASmF,iBACR,IACHtE,qBAAU,WACR,IAAMuE,EAASJ,EAAY1E,QAAO,SAAAC,GAAI,OAAIA,EAAK8C,KAAOmB,KACtDI,EAAmBQ,KAClB,CAACJ,EAAaR,IAGf,cAAC,WAAD,UACE,qBAAK9F,UAAU,wBAAf,SACG2G,OAAOC,KAAKR,EAAMS,eAAe7E,OAChC,eAAC8E,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAD,CACE1F,SAAUA,EACVwE,UAAWA,EACXU,WAAYA,IACZnF,KAAM+E,EAAMS,kBAGhB,cAAC,EAAD,IACA,cAACE,EAAA,EAAD,UACE,cAAC,EAAD,CAAiB/B,aAAciB,SAGjC,W,2PCvDCQ,EAAkB,SAAAQ,GAC7B,8CAAO,WAAM3F,GAAN,SAAAc,EAAA,sEACQE,IACVC,WAAW,YACXE,MACAmC,MAAK,SAAAsC,GACJ,IAAMC,EAAU,GAChBD,EAAKE,KAAK/D,KAAI,SAAAxB,GACZ,IAAMwF,EAASxF,EAAKR,OACpBgG,EAAO1C,GAAK9C,EAAK8C,GACjBwC,EAAQrC,KAAKuC,MAEf/F,EAAS,CACPwC,KAAM,mBACNzC,KAAM8F,OAbP,mFAAP,uDAmBWG,EAAe,SAAAC,GAC1B,8CAAO,WAAMjG,GAAN,qBAAAc,EAAA,6DACCC,EAAMC,IAAUC,WAAW,cAD5B,SAEgBF,EAAImF,IAAID,GAFxB,cAECE,EAFD,gBAGiBpF,EAAIG,IAAIiF,EAAO9C,IAAIlC,MAHpC,cAGCiF,EAHD,QAKCrG,EAAOqG,EAAQrG,QAChBsD,GAAK8C,EAAO9C,GANZ,kBAOErD,EAAS,CACdwC,KAAM,iBACNzC,UATG,4CAAP,uDAcWsG,EAAiB,SAAAJ,GAC5B,8CAAO,WAAMjG,GAAN,mBAAAc,EAAA,6DACCC,EAAMC,IAAUC,WAAW,cAAcC,IAAI+E,EAASK,eACrDL,EAASK,OAFX,SAGgBvF,EAAIwF,OAAON,GAH3B,8BAIiBlF,EAAII,MAJrB,cAICiF,EAJD,QAKCrG,EAAOqG,EAAQrG,QAChBsD,GAAK+C,EAAQ/C,GANb,kBAOErD,EAAS,CACdwC,KAAM,mBACNzC,UATG,4CAAP,uDAaWyG,EAAkB,WAC7B,8CAAO,WAAMxG,GAAN,mBAAAc,EAAA,6DACCC,EAAMC,IAAUC,WAAW,cAD5B,SAEoBF,EAAII,MAFxB,cAECsF,EAFD,OAGCZ,EAAU,GAChBY,EAAWX,KAAK/D,KAAI,SAAAxB,GAClB,IAAMwF,EAASxF,EAAKR,OACpBgG,EAAO1C,GAAK9C,EAAK8C,GACjBwC,EAAQrC,KAAKuC,MAPV,kBASE/F,EAAS,CACdwC,KAAM,yBACNzC,KAAM8F,KAXH,2CAAP,uDAeWa,EAAiB,SAAArD,GAC5B,8CAAO,WAAMrD,GAAN,eAAAc,EAAA,6DACCC,EAAMC,IAAUC,WAAW,cAAcC,IAAImC,GAD9C,SAEoBtC,EAAI4F,SAFxB,uCAGE3G,EAAS,CACdwC,KAAM,kBACNa,QALG,2CAAP,wD,uLCnEWuD,EAAc,SAAAjB,GACzB,IAAQkB,EAAMlB,EAANkB,EACFC,EAAeD,EAAEpE,cACvB,8CAAO,WAAMzC,GAAN,SAAAc,EAAA,sEACQE,IACVC,WAAW,YACXE,MACAmC,MAAK,SAAAsC,GACJ,IAAMC,EAAU,GAChBD,EAAKE,KAAK/D,KAAI,SAAAxB,GACZ,IAAMwF,EAASxF,EAAKR,OACpBgG,EAAO1C,GAAK9C,EAAK8C,GACbwD,EAAEnG,OAAS,EACTqF,EAAOnE,KAAKa,cAAcsE,SAASD,IACrCjB,EAAQrC,KAAKuC,GAGfF,EAAQrC,KAAKuC,MAGjB/F,EAAS,CACPwC,KAAM,eACNzC,KAAM,CAAEkF,SAAUY,EAASmB,MAAOnB,EAAQnF,OAAQiF,eAnBnD,mFAAP,uDA2BWvC,EAAgB,SAAAC,GAC3B,8CAAO,WAAMrD,GAAN,eAAAc,EAAA,6DACCC,EAAMC,IAAUC,WAAW,YAD5B,SAECF,EAAIG,IAAImC,GAAIsD,SAFb,gCAGE3G,EAAS,CACdwC,KAAM,kBACNa,QALG,2CAAP,uDAaW6B,EAAa,SAAA+B,GACxB,8CAAO,WAAMjH,GAAN,SAAAc,EAAA,sEACQE,IACVC,WAAW,YACXC,IAAI+F,GACJ9F,MACAmC,MAAK,SAAA4D,GACJ,IAAMnH,EAAOmH,EAASnH,OACtBA,EAAKsD,GAAK6D,EAAS7D,GACnBrD,EAAS,CACPwC,KAAM,cACNzC,YAGHoH,OAAM,SAAAC,GACL/F,QAAQC,IAAI,0BAA2B8F,MAdtC,mFAAP","file":"static/js/44.4c528a75.chunk.js","sourcesContent":["// ** React Imports\r\nimport { Row, Col, CardText } from 'reactstrap'\r\nimport { Award, Clock, Shield } from 'react-feather'\r\n\r\nconst ItemFeatures = () => {\r\n  return (\r\n    <div className='item-features'>\r\n      <Row className='text-center'>\r\n        <Col className='mb-4 mb-md-0' md='4' xs='12'>\r\n          <div className='w-75 mx-auto'>\r\n            <Award />\r\n            <h4 className='mt-2 mb-1'>100% Original</h4>\r\n            <CardText>\r\n              This item is completely pure and orginal, and we discourges all\r\n              the people who try or do the fraud with customers\r\n            </CardText>\r\n          </div>\r\n        </Col>\r\n        <Col className='mb-4 mb-md-0' md='4' xs='12'>\r\n          <div className='w-75 mx-auto'>\r\n            <Clock />\r\n            <h4 className='mt-2 mb-1'>2 Day Replacement</h4>\r\n            <CardText>\r\n              if you found any of the product damaged or outdated you can return\r\n              it within 2 days.\r\n            </CardText>\r\n          </div>\r\n        </Col>\r\n        <Col className='mb-4 mb-md-0' md='4' xs='12'>\r\n          <div className='w-75 mx-auto'>\r\n            <Shield />\r\n            <h4 className='mt-2 mb-1'>Wellcome to storage</h4>\r\n            <CardText>\r\n              we will love if you wanna visit our storage where we keep our\r\n              products, to check the quality and housekeeping in storage\r\n            </CardText>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemFeatures\r\n","// ** React Imports\r\nimport { useState, useEffect, Fragment } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { Star, ShoppingCart, Trash2, DollarSign } from 'react-feather'\r\nimport {\r\n  Row,\r\n  Col,\r\n  CardText,\r\n  Button,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  ModalFooter\r\n} from 'reactstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport { firestore } from '@src/utility/firebase'\r\nimport { deleteProduct } from '../store/actions'\r\nconst Product = props => {\r\n  const { userData } = useSelector(state => state.auth)\r\n  const properUser = userData.user\r\n  const [details, setDetails] = useState({})\r\n  const [modalOpened, setModalOpened] = useState(false)\r\n  const history = useHistory()\r\n  // ** Props\r\n  const { data, dispatch, addToCart } = props\r\n\r\n  useEffect(async () => {\r\n    if (data.brand) {\r\n      const ref = firestore.collection('categories').doc(data.brand)\r\n      const doc = await ref.get()\r\n      if (!doc.exists) {\r\n        console.log('not found user')\r\n      }\r\n      setDetails({ ...data, brand: doc.data() })\r\n    }\r\n  }, [properUser])\r\n\r\n  function PriceDisplay () {\r\n    if (properUser && properUser.categories && details.brand) {\r\n      const found = properUser.categories.filter(\r\n        item => item.title === details.brand.categoryName\r\n      )\r\n      if (found.length > 0) {\r\n        return found[0].value\r\n      } else {\r\n        return details.brand.price\r\n      }\r\n    } else if (details.brand) {\r\n      return details.brand.price\r\n    }\r\n  }\r\n  // ** State\r\n\r\n  // ** Renders color options\r\n\r\n  // ** Handle Move/Add to cart\r\n  const deleteProductMethod = () => {\r\n    dispatch(deleteProduct(details.id)).then(res => {\r\n      history.push('/products')\r\n    })\r\n  }\r\n\r\n  // ** Condition btn tag\r\n  const CartBtnTag = Link\r\n\r\n  return (\r\n    <Row className='my-2'>\r\n      <Col\r\n        className='d-flex align-items-center justify-content-center mb-2 mb-md-0'\r\n        md='5'\r\n        xs='12'\r\n      >\r\n        <div className='d-flex align-items-center justify-content-center'>\r\n          <img\r\n            className='img-fluid product-img'\r\n            src={data.img}\r\n            alt={data.name}\r\n          />\r\n        </div>\r\n      </Col>\r\n      <Col md='7' xs='12'>\r\n        <h4>{data.name}</h4>\r\n\r\n        <div className='ecommerce-details-price d-flex flex-wrap mt-1'>\r\n          <h4 className='item-price mr-1'>\r\n            ${PriceDisplay() ? PriceDisplay() : data.price}\r\n          </h4>\r\n          <ul className='unstyled-list list-inline'>\r\n            {new Array(5).fill().map((listItem, index) => {\r\n              return (\r\n                <li key={index} className='ratings-list-item mr-25'>\r\n                  <Star className='filled-star' />\r\n                </li>\r\n              )\r\n            })}\r\n          </ul>\r\n        </div>\r\n        <CardText>\r\n          Available -<span className='text-success ml-25'>In stock</span>\r\n        </CardText>\r\n        <CardText>{data.detail}</CardText>\r\n        <ul className='product-features list-unstyled'>\r\n          <li>\r\n            <DollarSign size={19} />\r\n            <span className='text-capitalize'>Bank Transfer Method</span>\r\n          </li>\r\n        </ul>\r\n        <hr />\r\n        <div className='d-flex flex-column flex-sm-row pt-1'>\r\n          <Button\r\n            tag={CartBtnTag}\r\n            className='btn-cart mr-0 mr-sm-1 mb-1 mb-sm-0'\r\n            color='primary'\r\n            to='/create_order'\r\n          >\r\n            <ShoppingCart className='mr-50' size={14} />\r\n            Purchase Item\r\n          </Button>\r\n          {userData.type && userData.type.toLowerCase() === 'admin' && (\r\n            <Fragment>\r\n              <Button\r\n                outline\r\n                className='btn-cart mr-0 mr-sm-1 mb-1 mb-sm-0'\r\n                color='danger'\r\n                onClick={() => {\r\n                  setModalOpened(true)\r\n                }}\r\n              >\r\n                <Trash2 className='mr-50' size={14} />\r\n                Delete Item\r\n              </Button>\r\n              <Modal\r\n                isOpen={modalOpened}\r\n                toggle={() => setModalOpened(!modalOpened)}\r\n                className='modal-dialog-centered'\r\n                modalClassName={'modal-danger'}\r\n              >\r\n                <ModalHeader toggle={() => setModalOpened(!modalOpened)}>\r\n                  Delete Product\r\n                </ModalHeader>\r\n                <ModalBody>\r\n                  Are you sure you wanna delete this product, (Deleting product\r\n                  will remove this product from all users view)\r\n                </ModalBody>\r\n                <ModalFooter>\r\n                  <Button.Ripple\r\n                    outline\r\n                    color='primary'\r\n                    onClick={() => setModalOpened(!modalOpened)}\r\n                  >\r\n                    Cancel\r\n                  </Button.Ripple>\r\n                  <Button.Ripple\r\n                    outline\r\n                    color='danger'\r\n                    onClick={deleteProductMethod}\r\n                  >\r\n                    Delete\r\n                  </Button.Ripple>\r\n                </ModalFooter>\r\n              </Modal>\r\n            </Fragment>\r\n          )}\r\n        </div>\r\n      </Col>\r\n    </Row>\r\n  )\r\n}\r\n\r\nexport default Product\r\n","// ** React Imports\r\nimport { Fragment } from 'react'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport { Star } from 'react-feather'\r\nimport { CardText } from 'reactstrap'\r\nimport SwiperCore, { Navigation } from 'swiper'\r\nimport { Swiper, SwiperSlide } from 'swiper/react'\r\nimport { Link } from 'react-router-dom'\r\n// ** Styles\r\nimport '@styles/react/libs/swiper/swiper.scss'\r\n\r\nconst RelatedProducts = ({ relatedProds }) => {\r\n  SwiperCore.use([Navigation])\r\n\r\n  // ** Slider params\r\n  const params = {\r\n    className: 'swiper-responsive-breakpoints swiper-container px-4 py-2',\r\n    slidesPerView: 5,\r\n    spaceBetween: 55,\r\n    navigation: true,\r\n    breakpoints: {\r\n      1600: {\r\n        slidesPerView: 4,\r\n        spaceBetween: 55\r\n      },\r\n      1300: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 55\r\n      },\r\n      768: {\r\n        slidesPerView: 2,\r\n        spaceBetween: 55\r\n      },\r\n      320: {\r\n        slidesPerView: 1,\r\n        spaceBetween: 55\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='mt-4 mb-2 text-center'>\r\n        <h4>Related Products</h4>\r\n        <CardText>People also search for this items</CardText>\r\n      </div>\r\n      <Swiper {...params}>\r\n        {relatedProds.length > 0 &&\r\n          relatedProds.map(slide => {\r\n            return (\r\n              <SwiperSlide key={slide.id}>\r\n                <Link\r\n                  to={`/product-detail/${slide.id}`}\r\n                  onClick={() => {\r\n                    window.scrollTo({ top: 0, behavior: 'smooth' })\r\n                  }}\r\n                >\r\n                  <div className='item-heading mb-2'>\r\n                    <h5 className='text-truncate mb-0'>{slide.name}</h5>\r\n                  </div>\r\n                  <div className='img-container w-50 mx-auto py-75'>\r\n                    <img src={slide.img} alt='swiper 1' className='img-fluid' />\r\n                  </div>\r\n                  <div className='item-meta'>\r\n                    <ul className='unstyled-list list-inline mb-25'>\r\n                      {new Array(5).fill().map((listItem, index) => {\r\n                        return (\r\n                          <li key={index} className='ratings-list-item mr-25'>\r\n                            <Star className='filled-star' />\r\n                          </li>\r\n                        )\r\n                      })}\r\n                    </ul>\r\n                    <CardText className='text-primary mb-0'>\r\n                      ${slide.price}\r\n                    </CardText>\r\n                  </div>\r\n                </Link>\r\n              </SwiperSlide>\r\n            )\r\n          })}\r\n      </Swiper>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default RelatedProducts\r\n","// ** React Imports\r\nimport { useEffect, useState, Fragment } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\n\r\n// ** Product detail components\r\nimport ItemFeatures from './ItemFeatures'\r\nimport ProductDetails from './ProductDetails'\r\nimport RelatedProducts from './RelatedProducts'\r\n\r\n// ** Third Party Components\r\nimport { Card, CardBody } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { getProduct } from '../store/actions'\r\nimport { getProductsData } from '../../../../redux/actions/clients'\r\n\r\nimport '@styles/base/pages/app-ecommerce-details.scss'\r\n\r\nconst Details = () => {\r\n  // ** Vars\r\n  const params = useParams().product\r\n  const productId = params\r\n  const [relatedProducts, setRelatedProducts] = useState([])\r\n  // ** Store Vars\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.ecommerce)\r\n  const { allProducts } = useSelector(state => state.products)\r\n\r\n  // ** ComponentDidMount : Get product\r\n  useEffect(() => {\r\n    dispatch(getProduct(productId))\r\n  }, [productId])\r\n  useEffect(() => {\r\n    dispatch(getProductsData())\r\n  }, [])\r\n  useEffect(() => {\r\n    const newArr = allProducts.filter(item => item.id !== productId)\r\n    setRelatedProducts(newArr)\r\n  }, [allProducts, productId])\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='app-ecommerce-details'>\r\n        {Object.keys(store.productDetail).length ? (\r\n          <Card>\r\n            <CardBody>\r\n              <ProductDetails\r\n                dispatch={dispatch}\r\n                productId={productId}\r\n                getProduct={getProduct}\r\n                data={store.productDetail}\r\n              />\r\n            </CardBody>\r\n            <ItemFeatures />\r\n            <CardBody>\r\n              <RelatedProducts relatedProds={relatedProducts} />\r\n            </CardBody>\r\n          </Card>\r\n        ) : null}\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Details\r\n","import axios from 'axios'\nimport { firestore, storage } from '@src/utility/firebase'\n// ** Get data\n\nexport const getProductsData = params => {\n  return async dispatch => {\n    return await firestore\n      .collection('products')\n      .get()\n      .then(snap => {\n        const records = []\n        snap.docs.map(item => {\n          const record = item.data()\n          record.id = item.id\n          records.push(record)\n        })\n        dispatch({\n          type: 'GET_PRODUCT_DATA',\n          data: records\n        })\n      })\n  }\n}\n\nexport const SaveCategory = category => {\n  return async dispatch => {\n    const ref = firestore.collection('categories')\n    const newCat = await ref.add(category)\n    const newData = await ref.doc(newCat.id).get()\n\n    const data = newData.data()\n    data.id = newCat.id\n    return dispatch({\n      type: 'Category_Added',\n      data\n    })\n  }\n}\n\nexport const UpdateCategory = category => {\n  return async dispatch => {\n    const ref = firestore.collection('categories').doc(category.editID)\n    delete category.editID\n    const newCat = await ref.update(category)\n    const newData = await ref.get()\n    const data = newData.data()\n    data.id = newData.id\n    return dispatch({\n      type: 'Category_Updated',\n      data\n    })\n  }\n}\nexport const FetchCategories = () => {\n  return async dispatch => {\n    const ref = firestore.collection('categories')\n    const Categories = await ref.get()\n    const records = []\n    Categories.docs.map(item => {\n      const record = item.data()\n      record.id = item.id\n      records.push(record)\n    })\n    return dispatch({\n      type: 'All_Categories_Fetched',\n      data: records\n    })\n  }\n}\nexport const DeleteCategory = id => {\n  return async dispatch => {\n    const ref = firestore.collection('categories').doc(id)\n    const Categories = await ref.delete()\n    return dispatch({\n      type: 'Category_Delete',\n      id\n    })\n  }\n}\nexport const CreateProduct = category => {\n  return async dispatch => {\n    const ref = firestore.collection('products')\n    if (category.img) {\n      const file = category.img\n      const uploadTask = storage\n        .ref(`/images/${(Math.random() * 1e32).toString(36)}`)\n        .put(file)\n      // return file.name\n      await uploadTask.on(\n        'state_changed',\n        snapShot => {\n          //takes a snap shot of the process as it is happening\n        },\n        err => {\n          //catches the errors\n          console.log(err)\n          return { message: 'data cannot be uploaded', code: 400, err }\n        },\n        () => {\n          // gets the functions from storage refences the image storage in firebase by the children\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\n          storage\n            .ref('images')\n            .child(file.name)\n            .getDownloadURL()\n            .then(fireBaseUrl => {\n              console.log(fireBaseUrl)\n              category.img = fireBaseUrl\n              ref.add(category).then(success => {\n                ref.get().then(data => {\n                  const records = []\n                  data.docs.map(item => {\n                    const record = item.data()\n                    record.id = item.id\n                    records.push(record)\n                  })\n                  return dispatch({\n                    type: 'GET_PRODUCT_DATA',\n                    data: records\n                  })\n                })\n              })\n            })\n            .catch(err => {\n              console.log(err)\n            })\n        }\n      )\n    } else {\n      alert('image not found')\n    }\n    // const newCat = await ref.add(category)\n    // const newData = await ref.doc(newCat.id).get()\n    // const data = newData.data()\n    // data.id = newCat.id\n    // return dispatch({\n    //   type: 'Product_Added',\n    //   data\n    // })\n  }\n}\n\n// ** Delete Invoice\nexport const deleteInvoice = id => {\n  return (dispatch, getStore) => {\n    axios\n      .delete('/apps/invoice/delete', { id })\n      .then(response => {\n        dispatch({\n          type: 'DELETE_INVOICE'\n        })\n      })\n      .then(() => dispatch(getData(getStore().invoice.params)))\n  }\n}\n","import axios from 'axios'\r\nimport { firestore } from '@src/utility/firebase'\r\n// ** GET Products\r\nexport const getProducts = params => {\r\n  const { q } = params\r\n  const queryLowered = q.toLowerCase()\r\n  return async dispatch => {\r\n    return await firestore\r\n      .collection('products')\r\n      .get()\r\n      .then(snap => {\r\n        const records = []\r\n        snap.docs.map(item => {\r\n          const record = item.data()\r\n          record.id = item.id\r\n          if (q.length > 0) {\r\n            if (record.name.toLowerCase().includes(queryLowered)) {\r\n              records.push(record)\r\n            }\r\n          } else {\r\n            records.push(record)\r\n          }\r\n        })\r\n        dispatch({\r\n          type: 'GET_PRODUCTS',\r\n          data: { products: records, total: records.length, params }\r\n        })\r\n      })\r\n  }\r\n}\r\n// ** GET Wishlist Items\r\n\r\n// ** DELETE Wishlist Item\r\nexport const deleteProduct = id => {\r\n  return async dispatch => {\r\n    const ref = firestore.collection('products')\r\n    await ref.doc(id).delete()\r\n    return dispatch({\r\n      type: 'Product_Deleted',\r\n      id\r\n    })\r\n  }\r\n}\r\n\r\n// ** GET Cart Items\r\n\r\n// ** GET Single Product\r\nexport const getProduct = slug => {\r\n  return async dispatch => {\r\n    return await firestore\r\n      .collection('products')\r\n      .doc(slug)\r\n      .get()\r\n      .then(snapshot => {\r\n        const data = snapshot.data()\r\n        data.id = snapshot.id\r\n        dispatch({\r\n          type: 'GET_PRODUCT',\r\n          data\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log('Error getting documents', err)\r\n      })\r\n  }\r\n}\r\n"],"sourceRoot":""}
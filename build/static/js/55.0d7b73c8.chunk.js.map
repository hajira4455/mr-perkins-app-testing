{"version":3,"sources":["views/apps/user/view/UserInfoCard.js","views/apps/user/view/RecentInvoicesTable.js","views/apps/user/view/index.js","views/apps/user/store/action/index.js"],"names":["UserInfoCard","selectedUser","FetchData","history","useHistory","Card","CardBody","Row","Col","xl","lg","className","img","src","alt","height","width","color","Math","floor","random","initials","content","name","contentStyles","borderRadius","fontSize","style","renderUserImg","CardText","tag","email","Button","Ripple","Link","to","id","outline","onClick","store","dispatch","deleteUser","then","res","go","status","disableUserById","code","size","businessName","type","paymentType","state","province","district","phone","dateParser","timestamp","date","Date","getDate","getMonth","getFullYear","TableSmall","items","ElementTotalCounter","products","reduce","a","b","Number","productPrice","split","Table","responsive","length","map","item","index","elements","total","created","seconds","Badge","pill","nroGuia","UncontrolledDropdown","DropdownToggle","caret","DropdownMenu","right","DropdownItem","colSpan","UserView","props","useSelector","users","useDispatch","fullLOcation","location","pathname","getUser","data","getUserInvoices","useEffect","undefined","md","sm","CardHeader","CardTitle","RecentInvoicesTable","selectedUserInvoices","Alert","getAllData","firestore","collection","get","snap","records","docs","record","push","getData","params","q","perPage","page","role","queryLowered","toLowerCase","filteredData","getState","allData","filter","includes","category","response","paginateArray","totalPages","ref","doc","exists","console","log","Data","invoiceRef","where","invoices","empty","invoicesarr","forEach","invoice","addUser","user","password","SecondaryAuth","createUserWithEmailAndPassword","CreateUser","updateProfile","displayName","photoURL","uid","set","userAdded","userFoundById","userFound","delete","signInWithEmailAndPassword","userLoggedn","currentUser","update","message","UpdateData","DataToUpdate","UpdateUser","userDetails","ShowToast","setShowToast","file","storage","toString","put","on","snapShot","_delegate","totalBytes","transfered","bytesTransferred","err","child","getDownloadURL","fireBaseUrl","SaveAndUpdateCategories","prices","categories","error"],"mappings":"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","file":"static/js/55.0d7b73c8.chunk.js","sourcesContent":["// ** React Imports\r\nimport { Link, useHistory } from 'react-router-dom'\r\n\r\n// ** Custom Components\r\nimport Avatar from '@components/avatar'\r\nimport { deleteUser, disableUserById } from '../store/action'\r\nimport { store } from '@store/storeConfig/store'\r\n\r\n// ** Third Party Components\r\nimport { Card, CardBody, CardText, Button, Row, Col } from 'reactstrap'\r\nimport {\r\n  DollarSign,\r\n  TrendingUp,\r\n  User,\r\n  Check,\r\n  Star,\r\n  Flag,\r\n  Phone,\r\n  MapPin\r\n} from 'react-feather'\r\n\r\nconst UserInfoCard = ({ selectedUser, FetchData }) => {\r\n  const history = useHistory()\r\n\r\n  // ** render user img\r\n  const renderUserImg = () => {\r\n    if (selectedUser !== null && selectedUser.img) {\r\n      return (\r\n        <img\r\n          src={selectedUser.img}\r\n          alt='user-avatar'\r\n          className='img-fluid rounded'\r\n          height='104'\r\n          width='104'\r\n        />\r\n      )\r\n    } else {\r\n      const stateNum = Math.floor(Math.random() * 6),\r\n        states = [\r\n          'light-success',\r\n          'light-danger',\r\n          'light-warning',\r\n          'light-info',\r\n          'light-primary',\r\n          'light-secondary'\r\n        ],\r\n        color = states[stateNum]\r\n      return (\r\n        <Avatar\r\n          initials\r\n          color={color}\r\n          className='rounded'\r\n          content={selectedUser.name}\r\n          contentStyles={{\r\n            borderRadius: 0,\r\n            fontSize: 'calc(36px)',\r\n            width: '100%',\r\n            height: '100%'\r\n          }}\r\n          style={{\r\n            height: '90px',\r\n            width: '90px'\r\n          }}\r\n        />\r\n      )\r\n    }\r\n  }\r\n\r\n  const deleteUserMethod = id => {\r\n    store.dispatch(deleteUser(id)).then(res => {\r\n      history.go(-1)\r\n      // if (res.code === 200) {\r\n      //   history.go(-1)\r\n      // }\r\n    })\r\n  }\r\n  const disableUser = (id, status) => {\r\n    store.dispatch(disableUserById(id, status)).then(res => {\r\n      if (res.code === 200) {\r\n        FetchData()\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <Row>\r\n          <Col\r\n            xl='6'\r\n            lg='12'\r\n            className='d-flex flex-column justify-content-between border-container-lg'\r\n          >\r\n            <div className='user-avatar-section'>\r\n              <div className='d-flex justify-content-start'>\r\n                {renderUserImg()}\r\n                <div className='d-flex flex-column ml-1'>\r\n                  <div className='user-info mb-1'>\r\n                    <h4 className='mb-0'>\r\n                      {selectedUser !== null\r\n                        ? selectedUser.name\r\n                        : 'Eleanor Aguilar'}\r\n                    </h4>\r\n                    <CardText tag='span'>\r\n                      {selectedUser !== null\r\n                        ? selectedUser.email\r\n                        : 'eleanor.aguilar@gmail.com'}\r\n                    </CardText>\r\n                  </div>\r\n                  <div className='d-flex flex-wrap align-items-center btn-sm'>\r\n                    <div className='longButtons mb-1 mb-sm-0'>\r\n                      <Button.Ripple\r\n                        tag={Link}\r\n                        to={`/clients/edit/${selectedUser.id}`}\r\n                        color='primary'\r\n                        className='btn-sm'\r\n                      >\r\n                        Edit\r\n                      </Button.Ripple>\r\n                      <Button.Ripple\r\n                        className='ml-1 btn-sm'\r\n                        color='danger'\r\n                        outline\r\n                        onClick={() => {\r\n                          deleteUserMethod(selectedUser.id)\r\n                        }}\r\n                      >\r\n                        Delete\r\n                      </Button.Ripple>\r\n                    </div>\r\n                    <Button.Ripple\r\n                      className='ml-1 btn-sm'\r\n                      color={\r\n                        selectedUser.status === 'inactive'\r\n                          ? 'success'\r\n                          : 'warning'\r\n                      }\r\n                      outline\r\n                      onClick={() => {\r\n                        disableUser(\r\n                          selectedUser.id,\r\n                          selectedUser.status === 'inactive'\r\n                            ? 'active'\r\n                            : 'inactive'\r\n                        )\r\n                      }}\r\n                    >\r\n                      {selectedUser.status === 'inactive'\r\n                        ? 'Enable'\r\n                        : 'Disable'}\r\n                    </Button.Ripple>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col xl='6' lg='12' className='mt-2 mt-xl-0'>\r\n            <div className='user-info-wrapper'>\r\n              <div className='d-flex flex-wrap align-items-center'>\r\n                <div className='user-info-title'>\r\n                  <User className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Username\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser !== null\r\n                    ? selectedUser.name\r\n                    : 'eleanor.aguilar'}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center'>\r\n                <div className='user-info-title'>\r\n                  <User className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Business Name\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser !== null\r\n                    ? selectedUser.businessName\r\n                    : 'eleanor.aguilar'}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <Check className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Status\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='text-capitalize mb-0'>\r\n                  {selectedUser.status ? selectedUser.status : 'Active'}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <Star className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Role\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='text-capitalize mb-0'>\r\n                  {selectedUser !== null ? selectedUser.type : 'Admin'}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <DollarSign className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Payment Type\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser.paymentType ? selectedUser.paymentType : ''}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <Flag className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    State\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser.state ? selectedUser.state : ''}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <MapPin className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Province\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser.province ? selectedUser.province : ''}\r\n                </CardText>\r\n              </div>\r\n\r\n              <div className='d-flex flex-wrap align-items-center my-50'>\r\n                <div className='user-info-title'>\r\n                  <TrendingUp className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    District\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser.district ? selectedUser.district : ''}\r\n                </CardText>\r\n              </div>\r\n              <div className='d-flex flex-wrap align-items-center'>\r\n                <div className='user-info-title'>\r\n                  <Phone className='mr-1' size={14} />\r\n                  <CardText\r\n                    tag='span'\r\n                    className='user-info-title font-weight-bold mb-0'\r\n                  >\r\n                    Contact\r\n                  </CardText>\r\n                </div>\r\n                <CardText className='mb-0'>\r\n                  {selectedUser !== null\r\n                    ? selectedUser.phone\r\n                    : 'no number saved'}\r\n                </CardText>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default UserInfoCard\r\n","import { MoreVertical, Eye, Trash } from 'react-feather'\r\nimport { Link } from 'react-router-dom'\r\nimport {\r\n  Table,\r\n  Badge,\r\n  UncontrolledDropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle\r\n} from 'reactstrap'\r\nconst dateParser = timestamp => {\r\n  const date = new Date(timestamp * 1000)\r\n  return `${date.getDate()}/${date.getMonth()}/${date.getFullYear()}`\r\n}\r\nconst TableSmall = ({ items }) => {\r\n  const TotalCounter = products => {\r\n    return products.reduce((a, b) => +a + +Number(b.total), 0)\r\n  }\r\n  const ElementTotalCounter = products => {\r\n    return products.reduce(\r\n      (a, b) => +a + +Number(b.productPrice.split('/')[1]),\r\n      0\r\n    )\r\n  }\r\n  return (\r\n    <Table size='sm' responsive>\r\n      <thead>\r\n        <tr>\r\n          <th>Invoice ID</th>\r\n          <th>Products</th>\r\n          <th>Total</th>\r\n          <th>Created at</th>\r\n          <th>Nroguia</th>\r\n          <th>Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.length > 0 &&\r\n          items.map((item, index) => {\r\n            return (\r\n              <tr key={`invoiceno-${index}`}>\r\n                <td className='d-flex'>\r\n                  <span className='align-self-center font-weight-bold'>\r\n                    <Link to={`/invoice/preview/${item.id}`}>{item.id}</Link>\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                  {item.elements\r\n                    ? item.elements.length\r\n                    : item.products\r\n                    ? item.products.length\r\n                    : ''}\r\n                </td>\r\n                <td>\r\n                  {item.products\r\n                    ? TotalCounter(item.products)\r\n                    : item.elements\r\n                    ? ElementTotalCounter(item.elements)\r\n                    : null}\r\n                </td>\r\n                <td>{dateParser(item.created.seconds)}</td>\r\n                <td>\r\n                  <Badge pill color='light-primary' className='mr-1'>\r\n                    {item.nroGuia}\r\n                  </Badge>\r\n                </td>\r\n                <td>\r\n                  <UncontrolledDropdown>\r\n                    <DropdownToggle\r\n                      className='icon-btn hide-arrow'\r\n                      color='transparent'\r\n                      size='sm'\r\n                      caret\r\n                    >\r\n                      <MoreVertical size={15} />\r\n                    </DropdownToggle>\r\n                    <DropdownMenu right>\r\n                      <DropdownItem\r\n                        tag={Link}\r\n                        to={`/invoice/preview/${item.id}`}\r\n                      >\r\n                        <Eye className='mr-50' size={15} />{' '}\r\n                        <span className='align-middle'>View</span>\r\n                      </DropdownItem>\r\n                    </DropdownMenu>\r\n                  </UncontrolledDropdown>\r\n                </td>\r\n              </tr>\r\n            )\r\n          })}\r\n        {items.length < 1 && (\r\n          <tr>\r\n            <td colSpan='5' className='text-center py-2'>\r\n              <h4>No Invoices found</h4>\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n    </Table>\r\n  )\r\n}\r\n\r\nexport default TableSmall\r\n","// ** React Imports\r\nimport { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// ** Store & Actions\r\nimport { getUser, getUserInvoices } from '../store/action'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\n// ** Reactstrap\r\nimport { Row, Col, Alert, Card, CardHeader, CardTitle } from 'reactstrap'\r\n\r\n// ** User View Components\r\nimport UserInfoCard from './UserInfoCard'\r\nimport RecentInvoicesTable from './RecentInvoicesTable'\r\n\r\n// ** Styles\r\nimport '@styles/react/apps/app-users.scss'\r\n\r\nconst UserView = props => {\r\n  // ** Vars\r\n  const store = useSelector(state => state.users),\r\n    dispatch = useDispatch(),\r\n    fullLOcation = location.pathname.split('/')\r\n  const id = fullLOcation[fullLOcation.length - 1]\r\n  const FetchData = () => {\r\n    dispatch(getUser(id)).then(data => {\r\n      dispatch(getUserInvoices(data.selectedUser.email))\r\n    })\r\n  }\r\n  // ** Get suer on mount\r\n  useEffect(() => {\r\n    FetchData()\r\n  }, [dispatch])\r\n\r\n  return store.selectedUser !== null && store.selectedUser !== undefined ? (\r\n    <div className='app-user-view'>\r\n      <Row>\r\n        <Col xl='12' lg='12' md='12'>\r\n          <UserInfoCard\r\n            selectedUser={store.selectedUser}\r\n            FetchData={FetchData}\r\n          />\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row>\r\n        <Col sm='12'>\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle tag='h4'>Recent Invoices</CardTitle>\r\n            </CardHeader>\r\n            <RecentInvoicesTable items={store.selectedUserInvoices} />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  ) : (\r\n    <Alert color='danger'>\r\n      <h4 className='alert-heading'>User not found</h4>\r\n      <div className='alert-body'>\r\n        User with id: {id} doesn't exist. Check list of all Users:{' '}\r\n        <Link to='/clients'>Users List</Link>\r\n      </div>\r\n    </Alert>\r\n  )\r\n}\r\n\r\nexport default UserView\r\n","import axios from 'axios'\r\nimport { firestore, SecondaryAuth, storage } from '@src/utility/firebase'\r\nimport { paginateArray } from '../../../../../@fake-db/utils'\r\nimport { store } from '../../../../../redux/storeConfig/store'\r\n// ** Get all Data\r\nexport const getAllData = () => {\r\n  return async dispatch => {\r\n    return await firestore\r\n      .collection('users')\r\n      .get()\r\n      .then(snap => {\r\n        const records = []\r\n        snap.docs.map(item => {\r\n          const record = item.data()\r\n          record.id = item.id\r\n          records.push(record)\r\n        })\r\n        dispatch({\r\n          type: 'GET_ALL_DATA',\r\n          data: records\r\n        })\r\n      })\r\n  }\r\n}\r\n\r\n// ** Get data on page or row change\r\nexport const getData = params => {\r\n  const { q = '', perPage = 10, page = 1, role = 0 } = params\r\n  return async dispatch => {\r\n    const queryLowered = q.toLowerCase()\r\n    let filteredData = store.getState().users.allData\r\n\r\n    if (queryLowered.length > 0) {\r\n      filteredData = filteredData.filter(item => {\r\n        if (item.name.toLowerCase().includes(queryLowered)) {\r\n          return item\r\n        }\r\n        if (item.email.toLowerCase().includes(queryLowered)) {\r\n          return item\r\n        }\r\n      })\r\n    }\r\n    if (role !== 0) {\r\n      filteredData = await filteredData.filter(\r\n        item => item.category && item.category === role\r\n      )\r\n    }\r\n    const response = {\r\n      users: paginateArray(filteredData, perPage, page)\r\n    }\r\n    dispatch({\r\n      type: 'GET_DATA',\r\n      data: response,\r\n      totalPages: filteredData.length,\r\n      params\r\n    })\r\n  }\r\n}\r\n\r\n// ** Get User\r\nexport const getUser = id => {\r\n  return async dispatch => {\r\n    const ref = firestore.collection('users').doc(id)\r\n    const doc = await ref.get()\r\n\r\n    if (!doc.exists) {\r\n      console.log('not found user')\r\n    }\r\n    const Data = doc.data()\r\n    Data.id = id\r\n    return dispatch({\r\n      type: 'GET_USER',\r\n      selectedUser: Data\r\n    })\r\n  }\r\n}\r\nexport const getUserInvoices = email => {\r\n  return async dispatch => {\r\n    const invoiceRef = firestore.collection('orders')\r\n    const invoices = await invoiceRef.where('email', '==', email).get()\r\n    if (invoices.empty) {\r\n      console.log('No matching documents.')\r\n    }\r\n    const invoicesarr = []\r\n    invoices.forEach(doc => {\r\n      const invoice = doc.data()\r\n      invoice.id = doc.id\r\n      invoicesarr.push(invoice)\r\n    })\r\n    return dispatch({\r\n      type: 'GET_USER_INVOICES_DATA',\r\n      data: invoicesarr\r\n    })\r\n  }\r\n}\r\n\r\n// ** Add new user\r\nexport const addUser = user => {\r\n  return async () => {\r\n    user.created = new Date()\r\n    const ref = firestore.collection('users')\r\n    const { email, password } = user\r\n    const CreateUser = await SecondaryAuth.createUserWithEmailAndPassword(\r\n      email,\r\n      password\r\n    )\r\n    await CreateUser.user.updateProfile({\r\n      displayName: user.name,\r\n      photoURL: 'user'\r\n    })\r\n    const userAdded = await ref.doc(CreateUser.user.uid).set(user)\r\n    return userAdded\r\n  }\r\n}\r\n\r\n// ** Delete user\r\nexport const deleteUser = id => {\r\n  return async (dispatch, getState) => {\r\n    try {\r\n      const ref = firestore.collection('users').doc(id)\r\n      const userFoundById = await ref.get()\r\n      const userFound = userFoundById.data()\r\n      const email = userFound.email,\r\n        password = userFound.password ? userFound.password : 'zeeeshan'\r\n      await ref.delete()\r\n      const userLogin = await SecondaryAuth.signInWithEmailAndPassword(\r\n        email,\r\n        password\r\n      )\r\n\r\n      const userLoggedn = SecondaryAuth.currentUser\r\n      await userLoggedn.delete()\r\n      dispatch({\r\n        type: 'USER_DELETED',\r\n        id\r\n      })\r\n      return dispatch({\r\n        type: 'USER_DELETED',\r\n        id\r\n      })\r\n    } catch (error) {\r\n      return dispatch({\r\n        type: 'USER_DELETED',\r\n        id\r\n      })\r\n    }\r\n  }\r\n}\r\nexport const disableUserById = (id, status) => {\r\n  return async () => {\r\n    try {\r\n      const ref = firestore.collection('users').doc(id)\r\n      await ref.update({ status })\r\n      return { message: 'user updated successfully', code: 200 }\r\n    } catch (error) {\r\n      return { message: 'user cannot be updated', code: 400 }\r\n    }\r\n  }\r\n}\r\nconst UpdateData = (id, DataToUpdate) => {\r\n  firestore\r\n    .collection('users')\r\n    .doc(id)\r\n    .update(DataToUpdate)\r\n}\r\nexport const UpdateUser = (\r\n  id,\r\n  userDetails,\r\n  ShowToast,\r\n  setShowToast,\r\n  file = null\r\n) => {\r\n  return async dispatch => {\r\n    if (file) {\r\n      const uploadTask = storage\r\n        .ref(`/images/${(Math.random() * 1e32).toString(36)}`)\r\n        .put(file)\r\n      uploadTask.on(\r\n        'state_changed',\r\n        snapShot => {\r\n          //takes a snap shot of the process as it is happening\r\n          if (!ShowToast.state) {\r\n            setShowToast({\r\n              state: true,\r\n              total: snapShot._delegate.totalBytes,\r\n              transfered: snapShot._delegate.bytesTransferred\r\n            })\r\n          }\r\n        },\r\n        err => {\r\n          //catches the errors\r\n          console.log(err)\r\n          return { message: 'data cannot be updated', code: 400 }\r\n        },\r\n        () => {\r\n          // gets the functions from storage refences the image storage in firebase by the children\r\n          // gets the download url then sets the image from firebase as the value for the imgUrl key:\r\n          storage\r\n            .ref('images')\r\n            .child(file.name)\r\n            .getDownloadURL()\r\n            .then(fireBaseUrl => {\r\n              setShowToast({\r\n                state: false,\r\n                total: 0,\r\n                transfered: 0\r\n              })\r\n              userDetails['img'] = fireBaseUrl\r\n              UpdateData(id, userDetails)\r\n              return { message: 'data updated successfully', code: 200 }\r\n            })\r\n        }\r\n      )\r\n    } else {\r\n      UpdateData(id, userDetails)\r\n      return { message: 'data updated successfully', code: 200 }\r\n    }\r\n  }\r\n}\r\n\r\nexport const SaveAndUpdateCategories = ({ id, prices }) => {\r\n  return async () => {\r\n    try {\r\n      const categories = { categories: prices }\r\n      UpdateData(id, categories)\r\n      return { message: 'user updated successfully', code: 200 }\r\n    } catch (error) {\r\n      return { message: 'user cannot be updated', code: 400, error }\r\n    }\r\n  }\r\n}\r\n"],"sourceRoot":""}